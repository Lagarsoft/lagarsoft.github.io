{"version":3,"file":"chunk.b45415e8.js","sources":["../../../src/routes/parallax.js"],"sourcesContent":["export default function(updateElements, initDisplay, restartParallax) {\r\n\r\n    // shim layer with setTimeout fallback\r\n    window.requestAnimFrame = (function() {\r\n        return (\r\n            window.requestAnimationFrame ||\r\n            window.webkitRequestAnimationFrame ||\r\n            window.mozRequestAnimationFrame ||\r\n            window.oRequestAnimationFrame ||\r\n            window.msRequestAnimationFrame ||\r\n            function(callback) {\r\n                window.setTimeout(callback, 1000 / 60);\r\n            }\r\n        );\r\n    })();\r\n\r\n    (function(win, d, updateElements) {\r\n        let $ = d.querySelector.bind(d);\r\n\r\n        let ticking = false;\r\n        let lastScrollY = 0;\r\n\r\n        // resize end\r\n        let rtime;\r\n        let timeout = false;\r\n        let delta = 200;\r\n\r\n\r\n        function resizeend() {\r\n            if (new Date() - rtime < delta) {\r\n                setTimeout(resizeend, delta);\r\n            } else {\r\n                timeout = false;\r\n                win.removeEventListener(\"resize\", onResize, false);\r\n                win.removeEventListener(\"scroll\", onScroll, false);\r\n                restartParallax();\r\n\r\n            }\r\n        }\r\n\r\n        function onResize() {\r\n\r\n            rtime = new Date();\r\n            if (timeout === false) {\r\n                timeout = true;\r\n                setTimeout(resizeend, delta);\r\n            }\r\n\r\n        }\r\n\r\n        function setTickingFalse() {\r\n            ticking = false;\r\n        }\r\n\r\n        function pos(base, range, relY, offset) {\r\n            return base + limit(0, 1, relY - offset) * range;\r\n        }\r\n\r\n        function prefix(obj, prop, value) {\r\n            let prefs = [\"webkit\", \"Moz\", \"o\", \"ms\"];\r\n            for (let pref in prefs) {\r\n                obj[prefs[pref] + prop] = value;\r\n            }\r\n        }\r\n\r\n        function limit(min, max, value) {\r\n            return Math.max(min, Math.min(max, value));\r\n        }\r\n\r\n        function onScroll(evt) {\r\n            if (!ticking) {\r\n                ticking = true;\r\n\r\n                requestAnimFrame(() => { updateElements(lastScrollY, prefix, pos, setTickingFalse); });\r\n                lastScrollY = win.pageYOffset;\r\n\r\n            }\r\n        };\r\n\r\n        initDisplay();\r\n\r\n        win.addEventListener(\"resize\", onResize, false);\r\n        win.addEventListener(\"scroll\", onScroll, false);\r\n\r\n        // fix initial placement of parallax elements\r\n        updateElements(lastScrollY, prefix, pos, setTickingFalse);\r\n\r\n        // perfect height fix for the parallay height\r\n        $(\"#blob-container\").style.height = document.body.scrollHeight + \"px\";\r\n    })(window, document, updateElements);\r\n};"],"names":["updateElements","initDisplay","restartParallax","window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","win","d","rtime","$","querySelector","bind","ticking","lastScrollY","timeout","delta","resizeend","Date","removeEventListener","onResize","onScroll","setTickingFalse","pos","base","range","relY","offset","min","max","value","Math","prefix","obj","prop","prefs","pref","evt","pageYOffset","addEventListener","style","height","document","body","scrollHeight"],"mappings":"AAAe,WAASA,EAAgBC,EAAaC,GAGjDC,OAAOC,iBAECD,OAAOE,uBACPF,OAAOG,6BACPH,OAAOI,0BACPJ,OAAOK,wBACPL,OAAOM,yBACP,SAASC,GACLP,OAAOQ,WAAWD,EAAU,IAAO,KAK/C,SAAUE,EAAKC,EAAGb,GACd,IAMIc,EANAC,EAAIF,EAAEG,cAAcC,KAAKJ,GAEzBK,GAAU,EACVC,EAAc,EAIdC,GAAU,EACVC,EAAQ,IAGZ,SAASC,IACD,IAAIC,KAAST,EAAQO,EACrBV,WAAWW,EAAWD,IAEtBD,GAAU,EACVR,EAAIY,oBAAoB,SAAUC,GAAU,GAC5Cb,EAAIY,oBAAoB,SAAUE,GAAU,GAC5CxB,KAKR,SAASuB,IAELX,EAAQ,IAAIS,MACI,IAAZH,IACAA,GAAU,EACVT,WAAWW,EAAWD,IAK9B,SAASM,IACLT,GAAU,EAGd,SAASU,EAAIC,EAAMC,EAAOC,EAAMC,GAC5B,OAAOH,GAUII,EAVS,EAUJC,EAVO,EAUFC,EAVKJ,EAAOC,EAW1BI,KAAKF,IAAID,EAAKG,KAAKH,IAAIC,EAAKC,IAXQL,GAU/C,IAAeG,EAAKC,EAAKC,EAPzB,SAASE,EAAOC,EAAKC,EAAMJ,GACvB,IAAIK,EAAQ,CAAC,SAAU,MAAO,IAAK,MACnC,IAAK,IAAIC,KAAQD,EACbF,EAAIE,EAAMC,GAAQF,GAAQJ,EAQlC,SAAST,EAASgB,GACTxB,IACDA,GAAU,EAEVd,iBAAiB,KAAQJ,EAAemB,EAAakB,EAAQT,EAAKD,KAClER,EAAcP,EAAI+B,aAK1B1C,IAEAW,EAAIgC,iBAAiB,SAAUnB,GAAU,GACzCb,EAAIgC,iBAAiB,SAAUlB,GAAU,GAGzC1B,EAAemB,EAAakB,EAAQT,EAAKD,GAGzCZ,EAAE,mBAAmB8B,MAAMC,OAASC,SAASC,KAAKC,aAAe,KAxErE,CAyEG9C,OAAQ4C,SAAU/C"}